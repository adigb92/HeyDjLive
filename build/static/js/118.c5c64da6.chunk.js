"use strict";(self.webpackChunkhey_dj=self.webpackChunkhey_dj||[]).push([[118],{3118:(e,r,i)=>{i.r(r),i.d(r,{default:()=>j});i(2791);var s=i(5705),n=i(8007),a=i(7689),l=i(7022),t=i(9743),o=i(2677),d=i(9140),c=i(2469),m=i(3855),u=i(3360),h=i(2954),b=i(9569),p=i(5178),x=i(184);const j=()=>{const e=(0,a.s0)(),{loading:r,error:i,handleSubmit:j,initialValues:N}=(0,h.c)({initialValues:{phoneNumber:"",gender:""},endpoint:"/user/update-profile",onSuccess:()=>e("/confirmation")}),g=n.Ry().shape({phoneNumber:b.aI,gender:b.zR});return(0,x.jsx)(l.Z,{className:"mt-5",children:(0,x.jsx)(t.Z,{className:"justify-content-center",children:(0,x.jsx)(o.Z,{xs:12,md:8,lg:6,children:(0,x.jsx)(d.Z,{className:"shadow-sm",children:(0,x.jsxs)(d.Z.Body,{className:"p-4",children:[(0,x.jsx)(d.Z.Title,{as:"h2",className:"text-center mb-4",children:"Complete Your Profile"}),(0,x.jsx)(d.Z.Text,{className:"text-center text-muted mb-4",children:"Please provide your phone number and gender to complete your profile setup."}),i&&(0,x.jsxs)(c.Z,{variant:"danger",className:"mb-4",children:[(0,x.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),i]}),(0,x.jsx)(s.J9,{initialValues:N,validationSchema:g,onSubmit:j,children:e=>{let{isSubmitting:i,errors:n,touched:a}=e;return(0,x.jsxs)(s.l0,{children:[(0,x.jsxs)(m.Z.Group,{className:"mb-4",children:[(0,x.jsx)(m.Z.Label,{className:"fw-bold",children:"Phone Number"}),(0,x.jsx)(s.gN,{as:m.Z.Control,type:"tel",name:"phoneNumber",placeholder:"Enter your phone number (10 digits)",isInvalid:n.phoneNumber&&a.phoneNumber,className:"py-2"}),n.phoneNumber&&a.phoneNumber&&(0,x.jsxs)(m.Z.Control.Feedback,{type:"invalid",children:[(0,x.jsx)("i",{className:"bi bi-exclamation-circle-fill me-2"}),n.phoneNumber]})]}),(0,x.jsxs)(m.Z.Group,{className:"mb-4",children:[(0,x.jsx)(m.Z.Label,{className:"fw-bold",children:"Gender"}),(0,x.jsxs)(s.gN,{as:m.Z.Select,name:"gender",isInvalid:n.gender&&a.gender,className:"py-2",children:[(0,x.jsx)("option",{value:"",children:"Select Gender"}),(0,x.jsx)("option",{value:"male",children:"Male"}),(0,x.jsx)("option",{value:"female",children:"Female"}),(0,x.jsx)("option",{value:"other",children:"Other"})]}),n.gender&&a.gender&&(0,x.jsxs)(m.Z.Control.Feedback,{type:"invalid",children:[(0,x.jsx)("i",{className:"bi bi-exclamation-circle-fill me-2"}),n.gender]})]}),(0,x.jsx)("div",{className:"d-grid",children:(0,x.jsx)(u.Z,{variant:"primary",type:"submit",disabled:i||r,size:"lg",className:"py-2",children:i||r?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.Z,{size:20,variant:"bootstrap"}),(0,x.jsx)("span",{className:"ms-2",children:"Completing Profile..."})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("i",{className:"bi bi-check-circle-fill me-2"}),"Complete Profile"]})})})]})}})]})})})})})}},2954:(e,r,i)=>{i.d(r,{c:()=>l});var s=i(2791),n=i(5055),a=i(9942);const l=e=>{let{initialValues:r,endpoint:i,onSuccess:l,onError:t}=e;const[o,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(null),u=(0,s.useCallback)((async(e,r)=>{let{setSubmitting:s,resetForm:o}=r;d(!0),m(null);try{const r=await(0,a.v_)(i,e);(0,n.D)(r.message),l&&l(r),o()}catch(c){const r=(0,n.z)(c);m(r),t&&t(c)}finally{d(!1),s(!1)}}),[i,l,t]);return{loading:o,error:c,handleSubmit:u,initialValues:r}}},9569:(e,r,i)=>{i.d(r,{Io:()=>l,Nq:()=>t,aI:()=>n,rA:()=>o,zR:()=>a});var s=i(8007);const n=s.Z_().matches(/^[0-9]{10}$/,"Phone number must be 10 digits").required("Phone number is required"),a=s.Z_().oneOf(["male","female","other"],"Please select a valid gender").required("Gender is required"),l=s.Z_().email("Invalid email").required("Email is required"),t=s.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Name is required"),o=s.Ry().shape({eventName:s.Z_().min(2,"Too Short!").max(100,"Too Long!").required("Event name is required"),eventLocation:s.Z_().min(2,"Too Short!").max(200,"Too Long!").required("Event location is required"),eventDate:s.hT().required("Event date is required").test("is-not-past","Event date cannot be in the past",(function(e){if(!e)return!1;const r=new Date;r.setHours(0,0,0,0);const i=new Date(e);return i.setHours(0,0,0,0),i>=r}))});s.Ry().shape({genre:s.Z_().required("Genre is required"),youtubeLink:s.Z_().url("Must be a valid YouTube URL").required("YouTube link is required")})}}]);
//# sourceMappingURL=118.c5c64da6.chunk.js.map