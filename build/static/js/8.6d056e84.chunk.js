"use strict";(self.webpackChunkhey_dj=self.webpackChunkhey_dj||[]).push([[8],{6008:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(2791),n=t(7689),l=t(7022),c=t(9743),i=t(2677),r=t(2469),m=t(3360),d=t(9140),o=t(3855),x=t(9942),h=t(5055),j=t(5178),u=t(184);const b=()=>{const[e,s]=(0,a.useState)([]),[t,b]=(0,a.useState)(!0),[N,v]=(0,a.useState)(null),[Z,p]=(0,a.useState)(""),f=(0,n.s0)();if((0,a.useEffect)((()=>{const e=async()=>{try{const e=await(0,x.U2)("/events/mine");s(e),v(null)}catch(N){v((0,h.z)(N))}finally{b(!1)}};e();const t=setInterval(e,1e4);return()=>clearInterval(t)}),[]),t)return(0,u.jsx)(l.Z,{className:"mt-5",children:(0,u.jsx)(c.Z,{className:"justify-content-center",children:(0,u.jsxs)(i.Z,{xs:12,className:"text-center",children:[(0,u.jsx)(j.Z,{size:40,variant:"bootstrap"}),(0,u.jsx)("p",{className:"mt-3",children:"Loading events..."})]})})});if(N)return(0,u.jsx)(l.Z,{className:"mt-5",children:(0,u.jsx)(c.Z,{className:"justify-content-center",children:(0,u.jsx)(i.Z,{xs:12,md:8,lg:6,children:(0,u.jsxs)(r.Z,{variant:"danger",children:[(0,u.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),N]})})})});const y=new Date;y.setHours(0,0,0,0);const g=e.filter((e=>new Date(e.eventDate)<y)).filter((e=>{const s=Z.trim().toLowerCase();if(!s)return!0;const t=(e.eventName||"").toLowerCase(),a=(e.eventLocation||"").toLowerCase(),n=new Date(e.eventDate).toLocaleDateString().toLowerCase();return t.includes(s)||a.includes(s)||n.includes(s)})).sort(((e,s)=>new Date(s.eventDate).getTime()-new Date(e.eventDate).getTime()));return(0,u.jsxs)(l.Z,{className:"mt-5",children:[(0,u.jsxs)(c.Z,{className:"justify-content-between align-items-center mb-4",children:[(0,u.jsx)(i.Z,{children:(0,u.jsxs)("h1",{className:"mb-0",children:[(0,u.jsx)("i",{className:"bi bi-calendar-event me-2"}),"Events History"]})}),(0,u.jsx)(i.Z,{xs:"auto",children:(0,u.jsxs)(m.Z,{variant:"primary",onClick:()=>f("/dj-event-creation"),size:"lg",className:"py-2",children:[(0,u.jsx)("i",{className:"bi bi-plus-circle-fill me-2"}),"Create New Event"]})})]}),0===g.length?(0,u.jsx)(c.Z,{className:"justify-content-center mt-5",children:(0,u.jsx)(i.Z,{xs:12,md:8,lg:6,children:(0,u.jsx)(d.Z,{className:"text-center p-5",children:(0,u.jsxs)(d.Z.Body,{children:[(0,u.jsx)("i",{className:"bi bi-calendar-x display-4 text-muted mb-3"}),(0,u.jsx)("h3",{children:"No Events Found"}),(0,u.jsx)("p",{className:"text-muted mb-4",children:"There are no events scheduled at the moment."}),(0,u.jsxs)(m.Z,{variant:"primary",onClick:()=>f("/dj-event-creation"),size:"lg",children:[(0,u.jsx)("i",{className:"bi bi-plus-circle-fill me-2"}),"Create Your First Event"]})]})})})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.Z,{className:"mb-3",children:(0,u.jsx)(i.Z,{md:6,lg:4,children:(0,u.jsx)(o.Z.Control,{type:"text",placeholder:"Search by name, location or date...",value:Z,onChange:e=>p(e.target.value)})})}),(0,u.jsx)(c.Z,{children:g.map((e=>(0,u.jsx)(i.Z,{md:6,lg:4,className:"mb-4",children:(0,u.jsxs)(d.Z,{className:"h-100 shadow-sm hover-shadow",children:[(0,u.jsxs)(d.Z.Body,{children:[(0,u.jsx)(d.Z.Title,{className:"h4 mb-3",children:e.eventName}),(0,u.jsxs)(d.Z.Subtitle,{className:"mb-3 text-muted",children:[(0,u.jsx)("i",{className:"bi bi-person-circle me-2"}),e.djName]}),(0,u.jsxs)(d.Z.Text,{children:[(0,u.jsxs)("p",{className:"mb-2",children:[(0,u.jsx)("i",{className:"bi bi-geo-alt-fill me-2"}),e.eventLocation]}),(0,u.jsxs)("p",{className:"mb-3",children:[(0,u.jsx)("i",{className:"bi bi-calendar-date me-2"}),new Date(e.eventDate).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),(0,u.jsx)(d.Z.Footer,{className:"bg-transparent border-0 pb-3",children:(0,u.jsxs)(m.Z,{variant:"outline-primary",onClick:()=>f(`/dj-event-edit/${e._id}`),className:"w-100",children:[(0,u.jsx)("i",{className:"bi bi-pencil-square me-2"}),"Edit Event"]})})]})},e._id)))})]})]})}},9743:(e,s,t)=>{t.d(s,{Z:()=>m});var a=t(1694),n=t.n(a),l=t(2791),c=t(162),i=t(184);const r=l.forwardRef(((e,s)=>{let{bsPrefix:t,className:a,as:l="div",...r}=e;const m=(0,c.vE)(t,"row"),d=(0,c.pi)(),o=(0,c.zG)(),x=`${m}-cols`,h=[];return d.forEach((e=>{const s=r[e];let t;delete r[e],null!=s&&"object"===typeof s?({cols:t}=s):t=s;const a=e!==o?`-${e}`:"";null!=t&&h.push(`${x}${a}-${t}`)})),(0,i.jsx)(l,{ref:s,...r,className:n()(a,m,...h)})}));r.displayName="Row";const m=r}}]);
//# sourceMappingURL=8.6d056e84.chunk.js.map