"use strict";(self.webpackChunkhey_dj=self.webpackChunkhey_dj||[]).push([[169],{6169:(e,a,n)=>{n.r(a),n.d(a,{default:()=>j});n(2791);var i=n(5705),r=n(8007),s=n(7689),l=n(7022),t=n(9743),o=n(2677),d=n(9140),c=n(2469),m=n(3855),u=n(3360),h=n(2954),b=n(9569),x=n(5178),p=n(184);const j=()=>{const e=(0,s.s0)(),{loading:a,error:n,handleSubmit:j,initialValues:g}=(0,h.c)({initialValues:{name:"",email:"",phoneNumber:"",gender:""},endpoint:"/user/register",onSuccess:()=>e("/genre-selection")}),N=r.Ry().shape({name:b.Nq,email:b.Io,phoneNumber:b.aI,gender:b.zR});return(0,p.jsx)(l.Z,{className:"mt-5",children:(0,p.jsx)(t.Z,{className:"justify-content-center",children:(0,p.jsx)(o.Z,{xs:12,md:8,lg:6,children:(0,p.jsx)(d.Z,{className:"shadow-sm",children:(0,p.jsxs)(d.Z.Body,{className:"p-4",children:[(0,p.jsx)(d.Z.Title,{as:"h1",className:"text-center mb-4",children:"Registration"}),n&&(0,p.jsxs)(c.Z,{variant:"danger",className:"mb-4",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),n]}),(0,p.jsx)(i.J9,{initialValues:g,validationSchema:N,onSubmit:j,children:e=>{let{isSubmitting:n,errors:r,touched:s}=e;return(0,p.jsxs)(i.l0,{children:[(0,p.jsxs)(m.Z.Group,{className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{children:"Name"}),(0,p.jsx)(i.gN,{as:m.Z.Control,type:"text",name:"name",placeholder:"Enter your name",isInvalid:r.name&&s.name}),r.name&&s.name&&(0,p.jsx)(m.Z.Control.Feedback,{type:"invalid",children:r.name})]}),(0,p.jsxs)(m.Z.Group,{className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{children:"Email"}),(0,p.jsx)(i.gN,{as:m.Z.Control,type:"email",name:"email",placeholder:"Enter your email",isInvalid:r.email&&s.email}),r.email&&s.email&&(0,p.jsx)(m.Z.Control.Feedback,{type:"invalid",children:r.email})]}),(0,p.jsxs)(m.Z.Group,{className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{children:"Phone Number"}),(0,p.jsx)(i.gN,{as:m.Z.Control,type:"tel",name:"phoneNumber",placeholder:"Enter your phone number (10 digits)",isInvalid:r.phoneNumber&&s.phoneNumber}),r.phoneNumber&&s.phoneNumber&&(0,p.jsx)(m.Z.Control.Feedback,{type:"invalid",children:r.phoneNumber})]}),(0,p.jsxs)(m.Z.Group,{className:"mb-3",children:[(0,p.jsx)(m.Z.Label,{children:"Gender"}),(0,p.jsxs)(i.gN,{as:m.Z.Select,name:"gender",isInvalid:r.gender&&s.gender,children:[(0,p.jsx)("option",{value:"",children:"Select Gender"}),(0,p.jsx)("option",{value:"male",children:"Male"}),(0,p.jsx)("option",{value:"female",children:"Female"}),(0,p.jsx)("option",{value:"other",children:"Other"})]}),r.gender&&s.gender&&(0,p.jsx)(m.Z.Control.Feedback,{type:"invalid",children:r.gender})]}),(0,p.jsx)("div",{className:"d-grid",children:(0,p.jsx)(u.Z,{variant:"primary",type:"submit",disabled:n||a,className:"mb-3",children:n||a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{size:20,variant:"bootstrap"}),(0,p.jsx)("span",{className:"ms-2",children:"Registering..."})]}):"Register"})})]})}}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"text-muted mb-3",children:"Or register with:"}),(0,p.jsxs)("div",{className:"d-flex justify-content-center gap-2",children:[(0,p.jsxs)(u.Z,{variant:"danger",onClick:()=>window.location.href="https://api.dj-hey.com/api/user/auth/google",children:[(0,p.jsx)("i",{className:"bi bi-google me-2"}),"Google"]}),(0,p.jsxs)(u.Z,{variant:"primary",onClick:()=>window.location.href="https://api.dj-hey.com/api/user/auth/facebook",children:[(0,p.jsx)("i",{className:"bi bi-facebook me-2"}),"Facebook"]})]})]})]})})})})})}},2954:(e,a,n)=>{n.d(a,{c:()=>l});var i=n(2791),r=n(5055),s=n(9942);const l=e=>{let{initialValues:a,endpoint:n,onSuccess:l,onError:t}=e;const[o,d]=(0,i.useState)(!1),[c,m]=(0,i.useState)(null),u=(0,i.useCallback)((async(e,a)=>{let{setSubmitting:i,resetForm:o}=a;d(!0),m(null);try{const a=await(0,s.v_)(n,e);(0,r.D)(a.message),l&&l(a),o()}catch(c){const a=(0,r.z)(c);m(a),t&&t(c)}finally{d(!1),i(!1)}}),[n,l,t]);return{loading:o,error:c,handleSubmit:u,initialValues:a}}},9569:(e,a,n)=>{n.d(a,{Io:()=>l,Nq:()=>t,aI:()=>r,rA:()=>o,zR:()=>s});var i=n(8007);const r=i.Z_().matches(/^[0-9]{10}$/,"Phone number must be 10 digits").required("Phone number is required"),s=i.Z_().oneOf(["male","female","other"],"Please select a valid gender").required("Gender is required"),l=i.Z_().email("Invalid email").required("Email is required"),t=i.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Name is required"),o=i.Ry().shape({eventName:i.Z_().min(2,"Too Short!").max(100,"Too Long!").required("Event name is required"),eventLocation:i.Z_().min(2,"Too Short!").max(200,"Too Long!").required("Event location is required"),eventDate:i.hT().required("Event date is required").test("is-not-past","Event date cannot be in the past",(function(e){if(!e)return!1;const a=new Date;a.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=a}))});i.Ry().shape({genre:i.Z_().required("Genre is required"),youtubeLink:i.Z_().url("Must be a valid YouTube URL").required("YouTube link is required")})}}]);
//# sourceMappingURL=169.e161204f.chunk.js.map